<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>hello</title>
	<!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ -->
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/axios@0.12.0/dist/axios.min.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lodash@4.13.1/lodash.min.js"></script>
	<!-- ç”Ÿäº§ç¯å¢ƒç‰ˆæœ¬ ä¼˜åŒ–å°ºå¯¸å’Œé€Ÿåº¦ -->
	<!-- <script type="text/javascript" src="https://cdn/jsdelivr.net/npm/vue"></script> -->
</head>
<body>
	<div id="app" v-if="seen" v-bind:title="message">
		{{ reverseMessage }}
		<ul>
			<todo-item 
				v-for="todo,index in todos"
				v-bind:todo="todo"
				v-bind:key="index"
			></todo-item>
		</ul>
		<button v-on:click="reversesMessage">å¤©å•Šï¼Œåè½¬</button>
		<input type="text" name="" v-model="message">
		<div>
			{{ now }}
		</div>
		<div>
			<p>Ask a yes/no question:
				<input type="" name="" v-model="question">
			</p>
			<p>{{ answer }}</p>
		</div>
	</div>
	<script type="text/javascript">
		Vue.component('todo-item',{
			props:['todo'],
			template:'<li>{{ todo.text }}</li>'
		})
	</script>
	<script type="text/javascript">
		var app = new Vue({
			el:'#app',
			data:{
				message:`Hello WangChao ${new Date().toLocaleString()}`,
				seen:true,
				todos:[
					{text:'å­¦ä¹ js'},{text:'å­¦ä¹ Vue'},{text:'æ•´ä¸ªniu'}
				],
				question:"ä¸€å¤´å°çŒªğŸ·",
				answer:"ç¬¨æ­»äº†"
			},
			created:function(){
				this.debouncedGetAnswer = _.debounce(this.getAnswer,500)
			},
			methods:{
				reversesMessage:function(){
					this.message = this.message.split('').reverse().join('');
				},
				getAnswer:function(){
					this.answer = 'æƒ³æƒ³ã€‚ã€‚ã€‚';
					var vm = this;
					axios.get('https://yesno.wtf/api')
						.then(function(response){
							vm.answer = _.capitalize(response.data.answer)
						})
						.catch(function(error){
							vm.answer = "æŠ¥é”™äº†"
						})
				}
			},
			computed:{
				now:function(){
					// ä¸æ˜¯å“åº”å¼ä¾èµ–ï¼Œè¯¥è®¡ç®—å±æ€§å€¼ä¸ä¼šæ›´æ–°
					return Date.now();
				},
				reverseMessage:function(){
					return this.message.split('').reverse().join('');
				},
			},
			watch:{
				question:function(newQ,oldQ){
					this.answer ="ç­‰ä¼šå„¿";
					this.debouncedGetAnswer();
				}
			}
		})
	</script>
</body>
</html>